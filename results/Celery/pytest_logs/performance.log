FF                                                                       [100%]
================================== FAILURES ===================================
____________ test_performance_001_many_small_tasks_finish_quickly _____________

    @pytest.mark.performance
    def test_performance_001_many_small_tasks_finish_quickly() -> None:
        """
        Absolute threshold is intentionally conservative to avoid false failures on slow CI.
        """
        app = _make_app()
    
        @app.task(name="celery_perf.noop")
        def noop(x: int) -> int:
            return x
    
        n = 5000
        t0 = time.perf_counter()
        for i in range(n):
            r = noop.delay(i)
>           _ = r.get(timeout=2)

tests\Celery\performance_test.py:62: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <AsyncResult: 4b939dd2-bbb3-4b94-b1ae-247bd0b27893 state=PENDING>
timeout = 2, propagate = True, interval = 0.01

    def get(self, timeout=None, propagate=True, interval=0.01):
        """
        Wait for and return the task result.
    
        If task failed and propagate=True, re-raise the stored exception.
        """
        deadline = None if timeout is None else (time.time() + timeout)
        while True:
            meta = self.backend.get_meta(self.id)
            status = meta.get("status", PENDING)
            if status == SUCCESS:
                return meta.get("result")
            if status == FAILURE:
                exc = meta.get("exception")
                if propagate and exc is not None:
                    raise exc
                return meta.get("result")
            if deadline is not None and time.time() >= deadline:
>               raise TimeoutError(f"Result {self.id} not ready within {timeout} seconds")
E               celery.exceptions.TimeoutError: Result 4b939dd2-bbb3-4b94-b1ae-247bd0b27893 not ready within 2 seconds

generation_m3\Celery\celery\result.py:55: TimeoutError
______________ test_performance_002_group_batching_is_reasonable ______________

    @pytest.mark.performance
    def test_performance_002_group_batching_is_reasonable() -> None:
        app = _make_app()
>       from celery import group
E       ImportError: cannot import name 'group' from 'celery' (D:\桌面\RealAppCodeBench_generic_eval\generation_m3\Celery\celery\__init__.py)

tests\Celery\performance_test.py:72: ImportError
============================== warnings summary ===============================
tests\Celery\performance_test.py:47
  D:\桌面\RealAppCodeBench_generic_eval\tests\Celery\performance_test.py:47: PytestUnknownMarkWarning: Unknown pytest.mark.performance - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.performance

tests\Celery\performance_test.py:69
  D:\桌面\RealAppCodeBench_generic_eval\tests\Celery\performance_test.py:69: PytestUnknownMarkWarning: Unknown pytest.mark.performance - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.performance

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/Celery/performance_test.py::test_performance_001_many_small_tasks_finish_quickly
FAILED tests/Celery/performance_test.py::test_performance_002_group_batching_is_reasonable
2 failed, 2 warnings in 2.46s
