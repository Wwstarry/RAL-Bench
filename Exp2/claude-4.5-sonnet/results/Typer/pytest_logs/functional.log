FFF..F.FFFFF                                                             [100%]
================================== FAILURES ===================================
__________________________ test_simple_hello_command __________________________

    def test_simple_hello_command() -> None:
        app = _create_greeter_app()
        result = runner.invoke(app, ["World"])
>       assert result.exit_code == 0
E       assert 1 == 0
E        +  where 1 = <typer.testing.Result object at 0x00000246BDAA1DC0>.exit_code

tests\Typer\functional_test.py:199: AssertionError
______________________ test_simple_hello_command_excited ______________________

    def test_simple_hello_command_excited() -> None:
        app = _create_greeter_app()
        # Safer ordering across Click versions: options before args.
        result = runner.invoke(app, ["--excited", "World"])
>       assert result.exit_code == 0
E       assert 1 == 0
E        +  where 1 = <typer.testing.Result object at 0x00000246BDAAF700>.exit_code

tests\Typer\functional_test.py:207: AssertionError
_______________ test_greeter_help_mentions_option_and_argument ________________

    def test_greeter_help_mentions_option_and_argument() -> None:
        app = _create_greeter_app()
        result = runner.invoke(app, ["--help"])
        assert result.exit_code == 0
        out = result.stdout
>       assert "--excited" in out
E       AssertionError: assert '--excited' in 'Usage: [OPTIONS] COMMAND [ARGS]...\n'

tests\Typer\functional_test.py:216: AssertionError
_____________________ test_todo_remove_then_list_updates ______________________

    def test_todo_remove_then_list_updates() -> None:
        app = _create_todo_app()
    
        runner.invoke(app, ["add", "Task 1"])
        runner.invoke(app, ["add", "Task 2"])
    
        r_remove = runner.invoke(app, ["remove", "1"])
>       assert r_remove.exit_code == 0
E       assert 1 == 0
E        +  where 1 = <typer.testing.Result object at 0x00000246BDAA8CA0>.exit_code

tests\Typer\functional_test.py:252: AssertionError
_______________ test_subcommand_help_for_add_mentions_argument ________________

    def test_subcommand_help_for_add_mentions_argument() -> None:
        app = _create_todo_app()
        result = runner.invoke(app, ["add", "--help"])
        assert result.exit_code == 0
        out = result.stdout
>       assert "TITLE" in out or "title" in out
E       AssertionError: assert ('TITLE' in 'Usage: [OPTIONS] COMMAND [ARGS]...\n\nCommands:\n  add                  \n  list                 \n  remove               \n' or 'title' in 'Usage: [OPTIONS] COMMAND [ARGS]...\n\nCommands:\n  add                  \n  list                 \n  remove               \n')

tests\Typer\functional_test.py:276: AssertionError
________________________ test_prompt_option_happy_path ________________________

    def test_prompt_option_happy_path() -> None:
        app = _create_prompt_app()
        # Now stable: "greet" always exists as a subcommand (multi-command app).
        result = runner.invoke(app, ["greet"], input="Alice\n")
        assert result.exit_code == 0
>       assert "Hi Alice" in result.stdout
E       AssertionError: assert 'Hi Alice' in 'Hi <typer.params.ParamInfo object at 0x00000246BDAA7EB0>\n'
E        +  where 'Hi <typer.params.ParamInfo object at 0x00000246BDAA7EB0>\n' = <typer.testing.Result object at 0x00000246BDAA7880>.stdout

tests\Typer\functional_test.py:284: AssertionError
________________________ test_envvar_option_happy_path ________________________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x00000246BDAB2580>

    def test_envvar_option_happy_path(monkeypatch: pytest.MonkeyPatch) -> None:
        app = _create_env_app()
        monkeypatch.setenv("APP_TOKEN", "abc123")
    
        result = runner.invoke(app, ["show"])
        assert result.exit_code == 0
>       assert "TOKEN=abc123" in result.stdout
E       AssertionError: assert 'TOKEN=abc123' in 'TOKEN=Ellipsis\n'
E        +  where 'TOKEN=Ellipsis\n' = <typer.testing.Result object at 0x00000246BDAB2610>.stdout

tests\Typer\functional_test.py:293: AssertionError
_____________ test_callback_global_option_affects_command_output ______________

    def test_callback_global_option_affects_command_output() -> None:
        app = _create_callback_app()
    
        r1 = runner.invoke(app, ["run"])
        assert r1.exit_code == 0
        assert "running" in r1.stdout
        assert "verbose" not in r1.stdout
    
        r2 = runner.invoke(app, ["--verbose", "run"])
>       assert r2.exit_code == 0
E       assert 2 == 0
E        +  where 2 = <typer.testing.Result object at 0x00000246BDAAF2B0>.exit_code

tests\Typer\functional_test.py:305: AssertionError
____________________ test_typed_arguments_and_float_option ____________________

    def test_typed_arguments_and_float_option() -> None:
        app = _create_types_app()
        # Now stable: "calc" always exists as a subcommand (multi-command app).
        r = runner.invoke(app, ["calc", "2", "3", "--scale", "2.0"])
>       assert r.exit_code == 0
E       assert 1 == 0
E        +  where 1 = <typer.testing.Result object at 0x00000246BDB16250>.exit_code

tests\Typer\functional_test.py:313: AssertionError
=========================== short test summary info ===========================
FAILED tests/Typer/functional_test.py::test_simple_hello_command - assert 1 == 0
FAILED tests/Typer/functional_test.py::test_simple_hello_command_excited - as...
FAILED tests/Typer/functional_test.py::test_greeter_help_mentions_option_and_argument
FAILED tests/Typer/functional_test.py::test_todo_remove_then_list_updates - a...
FAILED tests/Typer/functional_test.py::test_subcommand_help_for_add_mentions_argument
FAILED tests/Typer/functional_test.py::test_prompt_option_happy_path - Assert...
FAILED tests/Typer/functional_test.py::test_envvar_option_happy_path - Assert...
FAILED tests/Typer/functional_test.py::test_callback_global_option_affects_command_output
FAILED tests/Typer/functional_test.py::test_typed_arguments_and_float_option
9 failed, 3 passed in 0.71s
