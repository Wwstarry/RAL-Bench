project_name: Sqlmap
task_file: D:\桌面\RealAppCodeBench_generic_eval\tasks\Sqlmap\sqlmap.yaml
generated_repo: D:\桌面\RealAppCodeBench_generic_eval\generation\Sqlmap
timestamp: '2026-01-01 11:47:49'
functional_score: 0.3333
non_functional_score: 0.304
non_functional_subscores:
  maintainability: 0.0
  security: 1.0
  robustness: 0.4
  performance: 0.0
  resource: 0.0
non_functional_weights:
  maintainability: 0.36
  security: 0.24
  robustness: 0.16
  performance: 0.12
  resource: 0.12
results:
  functional:
    returncode: 1
    stdout: "..FFFFF.F                                                           \
      \     [100%]\n================================== FAILURES ===================================\n\
      ______________ test_003_help_runs_and_mentions_usage_or_options _______________\n\
      \n    def test_003_help_runs_and_mentions_usage_or_options():\n        p = _run_cli([\"\
      -h\"], timeout_s=30)\n>       assert p.returncode == 0\nE       AssertionError:\
      \ assert 1 == 0\nE        +  where 1 = CompletedProcess(args=['C:\\\\Users\\\
      \\86152\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python39\\\\python.exe',\
      \ 'D:\\\\桌面\\\\RealAppCod... <module>\\n    from lib.controller.controller import\
      \ start\\nModuleNotFoundError: No module named \\'lib.controller\\'\\n').returncode\n\
      \ntests\\Sqlmap\\functional_test.py:58: AssertionError\n_________________________\
      \ test_004_advanced_help_runs _________________________\n\n    def test_004_advanced_help_runs():\n\
      \        p = _run_cli([\"-hh\"], timeout_s=30)\n>       assert p.returncode\
      \ == 0\nE       AssertionError: assert 1 == 0\nE        +  where 1 = CompletedProcess(args=['C:\\\
      \\Users\\\\86152\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python39\\\\python.exe',\
      \ 'D:\\\\桌面\\\\RealAppCod... <module>\\n    from lib.controller.controller import\
      \ start\\nModuleNotFoundError: No module named \\'lib.controller\\'\\n').returncode\n\
      \ntests\\Sqlmap\\functional_test.py:65: AssertionError\n_____________ test_005_version_runs_and_prints_version_like_token\
      \ _____________\n\n    def test_005_version_runs_and_prints_version_like_token():\n\
      \        \"\"\"\n        sqlmap --version may print a raw version token (e.g.\
      \ 1.9.12.3#dev) and may also\n        print an 'exit' message. Do not require\
      \ specific words like 'sqlmap'/'version'.\n        \"\"\"\n        # --batch\
      \ helps avoid interactive prompts on some builds, but keep tolerance regardless.\n\
      \        p = _run_cli([\"--batch\", \"--version\"], timeout_s=30)\n        out\
      \ = _out(p)\n    \n        # Require a version-like token such as \"1.9.12.3\"\
      \ optionally with suffix \"#dev\"\n>       assert re.search(r\"\\b\\d+\\.\\\
      d+(?:\\.\\d+){0,3}(?:#[a-z0-9]+)?\\b\", out) is not None\nE       assert None\
      \ is not None\nE        +  where None = <function search at 0x000002879D1F99D0>('\\\
      \\b\\\\d+\\\\.\\\\d+(?:\\\\.\\\\d+){0,3}(?:#[a-z0-9]+)?\\\\b', '\\ntraceback\
      \ (most recent call last):\\n  file \"d:\\\\桌面\\\\realappcodebench_generic_eval\\\
      \\generation\\\\sqlmap\\\\sqlmap.py\", ...n <module>\\n    from lib.controller.controller\
      \ import start\\nmodulenotfounderror: no module named \\'lib.controller\\'\\\
      n')\nE        +    where <function search at 0x000002879D1F99D0> = re.search\n\
      \ntests\\Sqlmap\\functional_test.py:80: AssertionError\n________________ test_006_invalid_option_reports_error_cleanly\
      \ ________________\n\n    def test_006_invalid_option_reports_error_cleanly():\n\
      \        \"\"\"\n        In sqlmap reference, invalid options can still return\
      \ code 0 in some paths,\n        but stderr includes 'no such option' (argparse\
      \ style). We assert on the message.\n        \"\"\"\n        p = _run_cli([\"\
      --this-option-should-not-exist\"], timeout_s=30)\n        out = _out(p)\n  \
      \  \n        # Must clearly indicate option parsing failure; do NOT assert return\
      \ code.\n>       assert (\"no such option\" in out) or (\"unrecognized\" in\
      \ out) or (\"unknown\" in out)\nE       assert ('no such option' in '\\ntraceback\
      \ (most recent call last):\\n  file \"d:\\\\桌面\\\\realappcodebench_generic_eval\\\
      \\generation\\\\sqlmap\\\\sqlmap.py\", ...n <module>\\n    from lib.controller.controller\
      \ import start\\nmodulenotfounderror: no module named \\'lib.controller\\'\\\
      n' or 'unrecognized' in '\\ntraceback (most recent call last):\\n  file \"d:\\\
      \\桌面\\\\realappcodebench_generic_eval\\\\generation\\\\sqlmap\\\\sqlmap.py\"\
      , ...n <module>\\n    from lib.controller.controller import start\\nmodulenotfounderror:\
      \ no module named \\'lib.controller\\'\\n' or 'unknown' in '\\ntraceback (most\
      \ recent call last):\\n  file \"d:\\\\桌面\\\\realappcodebench_generic_eval\\\\\
      generation\\\\sqlmap\\\\sqlmap.py\", ...n <module>\\n    from lib.controller.controller\
      \ import start\\nmodulenotfounderror: no module named \\'lib.controller\\'\\\
      n')\n\ntests\\Sqlmap\\functional_test.py:92: AssertionError\n______________\
      \ test_007_alignment_api_surface_symbols_importable ______________\n\n    def\
      \ test_007_alignment_api_surface_symbols_importable():\n        \"\"\"\n   \
      \     Alignment anchors (must exist in BOTH reference and generated repos):\n\
      \    \n          - lib.parse.cmdline.cmdLineParser\n          - lib.core.option.init,\
      \ lib.core.option.initOptions\n          - lib.core.data: cmdLineOptions, conf,\
      \ kb\n          - lib.core.settings: VERSION, DESCRIPTION\n          - lib.controller.controller.start\n\
      \    \n        Only checks importability + symbol presence; does not execute\
      \ scanning logic.\n        \"\"\"\n        repo = _repo_root()\n        sys.path.insert(0,\
      \ str(repo))\n        try:\n>           from lib.parse.cmdline import cmdLineParser\
      \  # noqa: F401\nE           ModuleNotFoundError: No module named 'lib.parse.cmdline'\n\
      \ntests\\Sqlmap\\functional_test.py:110: ModuleNotFoundError\n__________ test_009_unicode_output_dir_argument_stable_in_help_mode\
      \ ___________\n\n    def test_009_unicode_output_dir_argument_stable_in_help_mode():\n\
      \        root = _project_root()\n        out_dir = root / \"generation\" / \"\
      Sqlmap\" / \"tmp_输出\"\n        out_dir.mkdir(parents=True, exist_ok=True)\n\
      \    \n        p = _run_cli([\"-h\", \"--output-dir\", str(out_dir)], timeout_s=30)\n\
      >       assert p.returncode == 0\nE       AssertionError: assert 1 == 0\nE \
      \       +  where 1 = CompletedProcess(args=['C:\\\\Users\\\\86152\\\\AppData\\\
      \\Local\\\\Programs\\\\Python\\\\Python39\\\\python.exe', 'D:\\\\桌面\\\\RealAppCod...\
      \ <module>\\n    from lib.controller.controller import start\\nModuleNotFoundError:\
      \ No module named \\'lib.controller\\'\\n').returncode\n\ntests\\Sqlmap\\functional_test.py:142:\
      \ AssertionError\n=========================== short test summary info ===========================\n\
      FAILED tests/Sqlmap/functional_test.py::test_003_help_runs_and_mentions_usage_or_options\n\
      FAILED tests/Sqlmap/functional_test.py::test_004_advanced_help_runs - Asserti...\n\
      FAILED tests/Sqlmap/functional_test.py::test_005_version_runs_and_prints_version_like_token\n\
      FAILED tests/Sqlmap/functional_test.py::test_006_invalid_option_reports_error_cleanly\n\
      FAILED tests/Sqlmap/functional_test.py::test_007_alignment_api_surface_symbols_importable\n\
      FAILED tests/Sqlmap/functional_test.py::test_009_unicode_output_dir_argument_stable_in_help_mode\n\
      6 failed, 3 passed in 1.76s\n"
    elapsed_time_s: 3.122587
    avg_memory_mb: 32.45
    avg_cpu_percent: 59.1
    passed: 3
    failed: 6
    skipped: 0
    total: 9
    score_inputs_passed: 3
    score_inputs_failed: 6
    score_inputs_total: 9
    score_inputs_returncode: 1
    score_inputs_failed_suite: true
    score_inputs_baseline_keys:
    - functional_suite_time_s
    - functional_tests_total
  performance:
    returncode: 1
    stdout: "F                                                                   \
      \     [100%]\n================================== FAILURES ===================================\n\
      _____________________ test_performance_help_startup_time ______________________\n\
      \n    def test_performance_help_startup_time():\n        \"\"\"\n        Measure\
      \ CLI startup/argument parsing cost via a benign invocation (-h).\n        No\
      \ hard threshold; emit a METRIC line for the runner.\n        \"\"\"\n     \
      \   cmd = [sys.executable, str(_entrypoint()), \"-h\"]\n    \n        t0 = time.perf_counter()\n\
      \        p = subprocess.run(\n            cmd,\n            stdout=subprocess.PIPE,\n\
      \            stderr=subprocess.PIPE,\n            text=True,\n            timeout=30,\n\
      \            cwd=str(_repo_root()),\n            env={**os.environ},\n     \
      \   )\n        t1 = time.perf_counter()\n    \n>       assert p.returncode ==\
      \ 0\nE       AssertionError: assert 1 == 0\nE        +  where 1 = CompletedProcess(args=['C:\\\
      \\Users\\\\86152\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python39\\\\python.exe',\
      \ 'D:\\\\桌面\\\\RealAppCod... <module>\\n    from lib.controller.controller import\
      \ start\\nModuleNotFoundError: No module named \\'lib.controller\\'\\n').returncode\n\
      \ntests\\Sqlmap\\performance_test.py:46: AssertionError\n===========================\
      \ short test summary info ===========================\nFAILED tests/Sqlmap/performance_test.py::test_performance_help_startup_time\n\
      1 failed in 0.61s\n"
    elapsed_time_s: 2.017176
    avg_memory_mb: 31.75
    avg_cpu_percent: 87.7
    passed: 0
    failed: 1
    skipped: 0
    total: 1
    score_inputs_passed: 0
    score_inputs_failed: 1
    score_inputs_total: 1
    score_inputs_returncode: 1
    score_inputs_failed_suite: true
    score_inputs_baseline_keys:
    - performance_suite_time_s
    - performance_tests_total
    score_inputs_baseline_time_s: 2.141399
    score_inputs_actual_time_s: 2.017176
  resource:
    returncode: 1
    stdout: "F                                                                   \
      \     [100%]\n================================== FAILURES ===================================\n\
      ___________________ test_resource_help_invocation_rss_delta ___________________\n\
      \n    def test_resource_help_invocation_rss_delta():\n        \"\"\"\n     \
      \   Sample RSS around a benign help invocation (-h).\n        Mirrors the Astral\
      \ resource_test style: psutil rss before/after.\n        \"\"\"\n        proc\
      \ = psutil.Process()\n        rss_before = proc.memory_info().rss\n    \n  \
      \      t0 = time.perf_counter()\n        p = subprocess.run(\n            [sys.executable,\
      \ str(_entrypoint()), \"-h\"],\n            stdout=subprocess.PIPE,\n      \
      \      stderr=subprocess.PIPE,\n            text=True,\n            timeout=30,\n\
      \            cwd=str(_repo_root()),\n            env={**os.environ},\n     \
      \   )\n        t1 = time.perf_counter()\n    \n        rss_after = proc.memory_info().rss\n\
      \        rss_delta = rss_after - rss_before\n        elapsed_s = t1 - t0\n \
      \   \n>       assert p.returncode == 0\nE       AssertionError: assert 1 ==\
      \ 0\nE        +  where 1 = CompletedProcess(args=['C:\\\\Users\\\\86152\\\\\
      AppData\\\\Local\\\\Programs\\\\Python\\\\Python39\\\\python.exe', 'D:\\\\桌面\\\
      \\RealAppCod... <module>\\n    from lib.controller.controller import start\\\
      nModuleNotFoundError: No module named \\'lib.controller\\'\\n').returncode\n\
      \ntests\\Sqlmap\\resource_test.py:53: AssertionError\n===========================\
      \ short test summary info ===========================\nFAILED tests/Sqlmap/resource_test.py::test_resource_help_invocation_rss_delta\n\
      1 failed in 0.62s\n"
    elapsed_time_s: 2.057814
    avg_memory_mb: 33.8
    avg_cpu_percent: 90.3
    passed: 0
    failed: 1
    skipped: 0
    total: 1
    score_inputs_passed: 0
    score_inputs_failed: 1
    score_inputs_total: 1
    score_inputs_returncode: 1
    score_inputs_failed_suite: true
    score_inputs_baseline_keys:
    - avg_cpu_percent
    - avg_memory_mb
    - resource_suite_time_s
    - resource_tests_total
    score_inputs_baseline_mem_mb: 33.23
    score_inputs_baseline_cpu_pct: 51.2
    score_inputs_actual_mem_mb: 33.8
    score_inputs_actual_cpu_pct: 90.3
  robustness:
    returncode: 1
    stdout: "FFF..                                                               \
      \     [100%]\n================================== FAILURES ===================================\n\
      ___________ test_001_nonexistent_request_file_reports_missing_file ____________\n\
      \n    def test_001_nonexistent_request_file_reports_missing_file():\n      \
      \  p = _run_cli([\"--batch\", \"-r\", \"this_file_should_not_exist.req\"], timeout_s=20)\n\
      \        out = _out(p)\n    \n        # sqlmap prints \"does not exist\" for\
      \ missing request file\n>       assert \"does not exist\" in out or \"not found\"\
      \ in out or \"no such file\" in out\nE       assert ('does not exist' in '\\\
      ntraceback (most recent call last):\\n  file \"d:\\\\桌面\\\\realappcodebench_generic_eval\\\
      \\generation\\\\sqlmap\\\\sqlmap.py\", ...n <module>\\n    from lib.controller.controller\
      \ import start\\nmodulenotfounderror: no module named \\'lib.controller\\'\\\
      n' or 'not found' in '\\ntraceback (most recent call last):\\n  file \"d:\\\\\
      桌面\\\\realappcodebench_generic_eval\\\\generation\\\\sqlmap\\\\sqlmap.py\",\
      \ ...n <module>\\n    from lib.controller.controller import start\\nmodulenotfounderror:\
      \ no module named \\'lib.controller\\'\\n' or 'no such file' in '\\ntraceback\
      \ (most recent call last):\\n  file \"d:\\\\桌面\\\\realappcodebench_generic_eval\\\
      \\generation\\\\sqlmap\\\\sqlmap.py\", ...n <module>\\n    from lib.controller.controller\
      \ import start\\nmodulenotfounderror: no module named \\'lib.controller\\'\\\
      n')\n\ntests\\Sqlmap\\robustness_test.py:48: AssertionError\n___________ test_002_invalid_scheme_url_reports_invalid_target_url\
      \ ____________\n\n    def test_002_invalid_scheme_url_reports_invalid_target_url():\n\
      \        # Use invalid scheme; should fail fast with \"invalid target url\"\
      \ message.\n        p = _run_cli([\"--batch\", \"-u\", \"not_a_scheme://example\"\
      ], timeout_s=20)\n        out = _out(p)\n    \n        # Reference prints \"\
      [CRITICAL] invalid target URL\" (case-insensitive compare)\n>       assert \"\
      invalid target url\" in out or \"invalid target\" in out\nE       assert ('invalid\
      \ target url' in '\\ntraceback (most recent call last):\\n  file \"d:\\\\桌面\\\
      \\realappcodebench_generic_eval\\\\generation\\\\sqlmap\\\\sqlmap.py\", ...n\
      \ <module>\\n    from lib.controller.controller import start\\nmodulenotfounderror:\
      \ no module named \\'lib.controller\\'\\n' or 'invalid target' in '\\ntraceback\
      \ (most recent call last):\\n  file \"d:\\\\桌面\\\\realappcodebench_generic_eval\\\
      \\generation\\\\sqlmap\\\\sqlmap.py\", ...n <module>\\n    from lib.controller.controller\
      \ import start\\nmodulenotfounderror: no module named \\'lib.controller\\'\\\
      n')\n\ntests\\Sqlmap\\robustness_test.py:57: AssertionError\n________ test_003_unknown_option_in_batch_mode_reports_no_such_option\
      \ _________\n\n    def test_003_unknown_option_in_batch_mode_reports_no_such_option():\n\
      \        p = _run_cli([\"--batch\", \"--this-option-should-not-exist\"], timeout_s=20)\n\
      \        out = _out(p)\n    \n        # argparse style error text is the stable\
      \ signal\n>       assert \"no such option\" in out or \"unrecognized\" in out\
      \ or \"unknown\" in out\nE       assert ('no such option' in '\\ntraceback (most\
      \ recent call last):\\n  file \"d:\\\\桌面\\\\realappcodebench_generic_eval\\\\\
      generation\\\\sqlmap\\\\sqlmap.py\", ...n <module>\\n    from lib.controller.controller\
      \ import start\\nmodulenotfounderror: no module named \\'lib.controller\\'\\\
      n' or 'unrecognized' in '\\ntraceback (most recent call last):\\n  file \"d:\\\
      \\桌面\\\\realappcodebench_generic_eval\\\\generation\\\\sqlmap\\\\sqlmap.py\"\
      , ...n <module>\\n    from lib.controller.controller import start\\nmodulenotfounderror:\
      \ no module named \\'lib.controller\\'\\n' or 'unknown' in '\\ntraceback (most\
      \ recent call last):\\n  file \"d:\\\\桌面\\\\realappcodebench_generic_eval\\\\\
      generation\\\\sqlmap\\\\sqlmap.py\", ...n <module>\\n    from lib.controller.controller\
      \ import start\\nmodulenotfounderror: no module named \\'lib.controller\\'\\\
      n')\n\ntests\\Sqlmap\\robustness_test.py:65: AssertionError\n===========================\
      \ short test summary info ===========================\nFAILED tests/Sqlmap/robustness_test.py::test_001_nonexistent_request_file_reports_missing_file\n\
      FAILED tests/Sqlmap/robustness_test.py::test_002_invalid_scheme_url_reports_invalid_target_url\n\
      FAILED tests/Sqlmap/robustness_test.py::test_003_unknown_option_in_batch_mode_reports_no_such_option\n\
      3 failed, 2 passed in 1.44s\n"
    elapsed_time_s: 2.876922
    avg_memory_mb: 31.8
    avg_cpu_percent: 63.8
    passed: 2
    failed: 3
    skipped: 0
    total: 5
    score_inputs_passed: 2
    score_inputs_failed: 3
    score_inputs_total: 5
    score_inputs_returncode: 1
    score_inputs_failed_suite: true
    score_inputs_baseline_keys:
    - robustness_suite_time_s
    - robustness_tests_total
  security:
    returncode: 0
    stdout: 'SECURITY_METRICS high_risk_count=0.0 files_scanned=6.0 total_loc=423.0

      .

      1 passed in 0.14s

      '
    elapsed_time_s: 1.531309
    avg_memory_mb: 31.46
    avg_cpu_percent: 96.8
    passed: 1
    failed: 0
    skipped: 0
    total: 1
    metrics:
      high_risk_count: 0.0
      files_scanned: 6.0
      total_loc: 423.0
    score_inputs_passed: 1
    score_inputs_failed: 0
    score_inputs_total: 1
    score_inputs_returncode: 0
    score_inputs_failed_suite: false
    score_inputs_baseline_keys:
    - metrics
    - security_suite_time_s
    - security_tests_total
    score_inputs_baseline_high_risk_count: 11.0
    score_inputs_generated_high_risk_count: 0.0
  maintainability:
    returncode: 0
    stdout: 'MAINT_METRICS mi_min=22.1951 files_scanned=3.0 total_loc=423.0 max_cc=6.0

      .

      1 passed in 0.17s

      '
    elapsed_time_s: 1.578844
    avg_memory_mb: 31.59
    avg_cpu_percent: 95.7
    passed: 1
    failed: 0
    skipped: 0
    total: 1
    metrics:
      mi_min: 22.1951
      files_scanned: 3.0
      total_loc: 423.0
      max_cc: 6.0
    score_inputs_passed: 1
    score_inputs_failed: 0
    score_inputs_total: 1
    score_inputs_returncode: 0
    score_inputs_failed_suite: false
    score_inputs_baseline_keys:
    - maintainability_suite_time_s
    - maintainability_tests_total
    - metrics
    score_inputs_baseline_mi_min: 0.0
    score_inputs_generated_mi_min: 22.1951
baseline_metrics:
  functional:
    functional_suite_time_s: 8.046427
    functional_tests_total: 9
  performance:
    performance_suite_time_s: 2.141399
    performance_tests_total: 1
  resource:
    resource_suite_time_s: 2.106958
    resource_tests_total: 1
    avg_memory_mb: 33.23
    avg_cpu_percent: 51.2
  robustness:
    robustness_suite_time_s: 6.540569
    robustness_tests_total: 5
  security:
    security_suite_time_s: 1.891213
    security_tests_total: 1
    metrics:
      high_risk_count: 11.0
      files_scanned: 102.0
      total_loc: 27632.0
  maintainability:
    maintainability_suite_time_s: 3.958007
    maintainability_tests_total: 1
    metrics:
      mi_min: 0.0
      files_scanned: 102.0
      total_loc: 27632.0
      max_cc: 313.0
pytest_logs_dir: D:\桌面\RealAppCodeBench_generic_eval\results\Sqlmap\pytest_logs
