FFFFFFFFFF                                                               [100%]
================================== FAILURES ===================================
___________________ test_001_import_celery_and_core_symbols ___________________

    def test_001_import_celery_and_core_symbols() -> None:
        _ensure_celery_importable()
        import celery  # noqa: F401
    
        from celery import Celery  # noqa: F401
>       from celery import chain, chord, group, signature  # noqa: F401
E       ImportError: cannot import name 'chain' from 'celery' (D:\桌面\RealAppCodeBench_generic_eval\generation\Celery\celery\__init__.py)

tests\Celery\functional_test.py:61: ImportError
______________ test_002_create_app_and_register_task_runs_delay _______________

    def test_002_create_app_and_register_task_runs_delay() -> None:
        app = _make_app()
    
        @app.task(name="celery_test.add")
>       def add(x: int, y: int) -> int:

tests\Celery\functional_test.py:68: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

func = <function test_002_create_app_and_register_task_runs_delay.<locals>.add at 0x000001ADC41099D0>

    def decorator(func):
        base = opts.pop('base', Task)
        name = opts.get('name') or self.gen_task_name(func.__name__, func.__module__)
>       task_instance = base(func, self, name=name, **opts)
E       TypeError: celery.app.task.Task() got multiple values for keyword argument 'name'

generation\Celery\celery\app\base.py:51: TypeError
____ test_003_apply_async_supports_kwargs_and_counts_down_ignored_in_eager ____

    def test_003_apply_async_supports_kwargs_and_counts_down_ignored_in_eager() -> None:
        app = _make_app()
    
        @app.task(name="celery_test.mul")
>       def mul(x: int, y: int) -> int:

tests\Celery\functional_test.py:80: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

func = <function test_003_apply_async_supports_kwargs_and_counts_down_ignored_in_eager.<locals>.mul at 0x000001ADC41098B0>

    def decorator(func):
        base = opts.pop('base', Task)
        name = opts.get('name') or self.gen_task_name(func.__name__, func.__module__)
>       task_instance = base(func, self, name=name, **opts)
E       TypeError: celery.app.task.Task() got multiple values for keyword argument 'name'

generation\Celery\celery\app\base.py:51: TypeError
__________________ test_004_group_collects_results_in_order ___________________

    def test_004_group_collects_results_in_order() -> None:
        app = _make_app()
>       from celery import group
E       ImportError: cannot import name 'group' from 'celery' (D:\桌面\RealAppCodeBench_generic_eval\generation\Celery\celery\__init__.py)

tests\Celery\functional_test.py:90: ImportError
____________________ test_005_chain_passes_previous_result ____________________

    def test_005_chain_passes_previous_result() -> None:
        app = _make_app()
>       from celery import chain
E       ImportError: cannot import name 'chain' from 'celery' (D:\桌面\RealAppCodeBench_generic_eval\generation\Celery\celery\__init__.py)

tests\Celery\functional_test.py:104: ImportError
_______________ test_006_chord_runs_callback_over_group_results _______________

    def test_006_chord_runs_callback_over_group_results() -> None:
        app = _make_app()
>       from celery import chord, group
E       ImportError: cannot import name 'chord' from 'celery' (D:\桌面\RealAppCodeBench_generic_eval\generation\Celery\celery\__init__.py)

tests\Celery\functional_test.py:117: ImportError
______________ test_007_task_exception_propagates_in_eager_mode _______________

    def test_007_task_exception_propagates_in_eager_mode() -> None:
        """
        In some Celery versions/configs with task_always_eager=True and
        task_eager_propagates=True, the exception is raised immediately during
        delay()/apply_async() rather than on AsyncResult.get().
    
        This test accepts both correct behaviors:
        - delay raises ValueError directly, OR
        - delay returns a result whose .get() raises ValueError.
        """
        app = _make_app()
    
        @app.task(name="celery_test.boom")
>       def boom() -> None:

tests\Celery\functional_test.py:145: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

func = <function test_007_task_exception_propagates_in_eager_mode.<locals>.boom at 0x000001ADC40973A0>

    def decorator(func):
        base = opts.pop('base', Task)
        name = opts.get('name') or self.gen_task_name(func.__name__, func.__module__)
>       task_instance = base(func, self, name=name, **opts)
E       TypeError: celery.app.task.Task() got multiple values for keyword argument 'name'

generation\Celery\celery\app\base.py:51: TypeError
_____________ test_008_disable_propagation_returns_failed_result ______________

    def test_008_disable_propagation_returns_failed_result() -> None:
        """
        With task_eager_propagates=False:
          - Some Celery builds still raise on get(..., propagate=True)
          - get(..., propagate=False) may return None OR return the exception object
        We accept both behaviors as long as the task is marked failed.
        """
        app = _make_app()
>       app.conf.task_eager_propagates = False
E       AttributeError: 'dict' object has no attribute 'task_eager_propagates'

tests\Celery\functional_test.py:166: AttributeError
_______________ test_009_signature_freeze_has_id_and_task_name ________________

    def test_009_signature_freeze_has_id_and_task_name() -> None:
        app = _make_app()
>       from celery import signature
E       ImportError: cannot import name 'signature' from 'celery' (D:\桌面\RealAppCodeBench_generic_eval\generation\Celery\celery\__init__.py)

tests\Celery\functional_test.py:191: ImportError
____________ test_010_default_app_does_not_break_custom_app_usage _____________

    def test_010_default_app_does_not_break_custom_app_usage() -> None:
        """
        Ensure that importing celery and using a custom app is not polluted by globals.
        """
        app = _make_app("celery_test_app_2")
    
        @app.task(name="celery_test_app_2.add")
>       def add(x: int, y: int) -> int:

tests\Celery\functional_test.py:210: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

func = <function test_010_default_app_does_not_break_custom_app_usage.<locals>.add at 0x000001ADC4109EE0>

    def decorator(func):
        base = opts.pop('base', Task)
        name = opts.get('name') or self.gen_task_name(func.__name__, func.__module__)
>       task_instance = base(func, self, name=name, **opts)
E       TypeError: celery.app.task.Task() got multiple values for keyword argument 'name'

generation\Celery\celery\app\base.py:51: TypeError
=========================== short test summary info ===========================
FAILED tests/Celery/functional_test.py::test_001_import_celery_and_core_symbols
FAILED tests/Celery/functional_test.py::test_002_create_app_and_register_task_runs_delay
FAILED tests/Celery/functional_test.py::test_003_apply_async_supports_kwargs_and_counts_down_ignored_in_eager
FAILED tests/Celery/functional_test.py::test_004_group_collects_results_in_order
FAILED tests/Celery/functional_test.py::test_005_chain_passes_previous_result
FAILED tests/Celery/functional_test.py::test_006_chord_runs_callback_over_group_results
FAILED tests/Celery/functional_test.py::test_007_task_exception_propagates_in_eager_mode
FAILED tests/Celery/functional_test.py::test_008_disable_propagation_returns_failed_result
FAILED tests/Celery/functional_test.py::test_009_signature_freeze_has_id_and_task_name
FAILED tests/Celery/functional_test.py::test_010_default_app_does_not_break_custom_app_usage
10 failed in 0.50s
