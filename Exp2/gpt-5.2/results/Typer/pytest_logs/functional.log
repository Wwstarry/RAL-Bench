FFFFFF..FFFF                                                             [100%]
================================== FAILURES ===================================
__________________________ test_simple_hello_command __________________________

    def test_simple_hello_command() -> None:
        app = _create_greeter_app()
        result = runner.invoke(app, ["World"])
>       assert result.exit_code == 0
E       AssertionError: assert 2 == 0
E        +  where 2 = Result(stdout='', stderr='Error: No such command: World\n', exit_code=2, exception=None).exit_code

tests\Typer\functional_test.py:199: AssertionError
______________________ test_simple_hello_command_excited ______________________

    def test_simple_hello_command_excited() -> None:
        app = _create_greeter_app()
        # Safer ordering across Click versions: options before args.
        result = runner.invoke(app, ["--excited", "World"])
>       assert result.exit_code == 0
E       AssertionError: assert 2 == 0
E        +  where 2 = Result(stdout='', stderr='Error: No such option: --excited\n', exit_code=2, exception=None).exit_code

tests\Typer\functional_test.py:207: AssertionError
_______________ test_greeter_help_mentions_option_and_argument ________________

    def test_greeter_help_mentions_option_and_argument() -> None:
        app = _create_greeter_app()
        result = runner.invoke(app, ["--help"])
        assert result.exit_code == 0
        out = result.stdout
>       assert "--excited" in out
E       AssertionError: assert '--excited' in 'Usage: app [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --help         Show this message and exit.\n\nCommands:\n'

tests\Typer\functional_test.py:216: AssertionError
_____________________ test_todo_list_empty_shows_no_tasks _____________________

    def test_todo_list_empty_shows_no_tasks() -> None:
        app = _create_todo_app()
        r = runner.invoke(app, ["list"])
        assert r.exit_code == 0
>       assert "No tasks." in r.stdout
E       AssertionError: assert 'No tasks.' in ''
E        +  where '' = Result(stdout='', stderr='', exit_code=0, exception=None).stdout

tests\Typer\functional_test.py:224: AssertionError
---------------------------- Captured stdout call -----------------------------
No tasks.
___________________________ test_todo_add_and_list ____________________________

    def test_todo_add_and_list() -> None:
        app = _create_todo_app()
    
        r1 = runner.invoke(app, ["add", "Write tests"])
        r2 = runner.invoke(app, ["add", "Review PRs"])
    
        assert r1.exit_code == 0
>       assert "Added: Write tests" in r1.stdout
E       AssertionError: assert 'Added: Write tests' in ''
E        +  where '' = Result(stdout='', stderr='', exit_code=0, exception=None).stdout

tests\Typer\functional_test.py:234: AssertionError
---------------------------- Captured stdout call -----------------------------
Added: Write tests
Added: Review PRs
_____________________ test_todo_remove_then_list_updates ______________________

    def test_todo_remove_then_list_updates() -> None:
        app = _create_todo_app()
    
        runner.invoke(app, ["add", "Task 1"])
        runner.invoke(app, ["add", "Task 2"])
    
        r_remove = runner.invoke(app, ["remove", "1"])
>       assert r_remove.exit_code == 0
E       assert 1 == 0
E        +  where 1 = Result(stdout='', stderr="Error: unsupported operand type(s) for -: 'str' and 'int'\n", exit_code=1, exception=TypeError("unsupported operand type(s) for -: 'str' and 'int'")).exit_code

tests\Typer\functional_test.py:252: AssertionError
---------------------------- Captured stdout call -----------------------------
Added: Task 1
Added: Task 2
________________________ test_prompt_option_happy_path ________________________

    def test_prompt_option_happy_path() -> None:
>       app = _create_prompt_app()

tests\Typer\functional_test.py:280: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

    def _create_prompt_app() -> typer.Typer:
        """
        Multi-command app to avoid Typer's single-command "collapse" behavior in
        some versions. This guarantees that "greet" exists as a subcommand.
        """
        app = typer.Typer()
    
        @app.command()
        def greet(
>           name: str = typer.Option(
                None,
                "--name",
                prompt=True,
                help="Name to greet (prompted when missing).",
            )
        ) -> None:
E       TypeError: Option() got an unexpected keyword argument 'prompt'

tests\Typer\functional_test.py:121: TypeError
________________________ test_envvar_option_happy_path ________________________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x0000014E9821E190>

    def test_envvar_option_happy_path(monkeypatch: pytest.MonkeyPatch) -> None:
>       app = _create_env_app()

tests\Typer\functional_test.py:288: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

    def _create_env_app() -> typer.Typer:
        """
        Multi-command app to guarantee that "show" exists as a subcommand.
        """
        app = typer.Typer()
    
        @app.command()
>       def show(token: str = typer.Option(..., "--token", envvar="APP_TOKEN")) -> None:
E       TypeError: Option() got an unexpected keyword argument 'envvar'

tests\Typer\functional_test.py:144: TypeError
_____________ test_callback_global_option_affects_command_output ______________

    def test_callback_global_option_affects_command_output() -> None:
        app = _create_callback_app()
    
        r1 = runner.invoke(app, ["run"])
        assert r1.exit_code == 0
>       assert "running" in r1.stdout
E       AssertionError: assert 'running' in ''
E        +  where '' = Result(stdout='', stderr='', exit_code=0, exception=None).stdout

tests\Typer\functional_test.py:301: AssertionError
---------------------------- Captured stdout call -----------------------------
running
____________________ test_typed_arguments_and_float_option ____________________

    def test_typed_arguments_and_float_option() -> None:
        app = _create_types_app()
        # Now stable: "calc" always exists as a subcommand (multi-command app).
        r = runner.invoke(app, ["calc", "2", "3", "--scale", "2.0"])
>       assert r.exit_code == 0
E       assert 1 == 0
E        +  where 1 = Result(stdout='', stderr="Error: can't multiply sequence by non-int of type 'str'\n", exit_code=1, exception=TypeError("can't multiply sequence by non-int of type 'str'")).exit_code

tests\Typer\functional_test.py:313: AssertionError
=========================== short test summary info ===========================
FAILED tests/Typer/functional_test.py::test_simple_hello_command - AssertionE...
FAILED tests/Typer/functional_test.py::test_simple_hello_command_excited - As...
FAILED tests/Typer/functional_test.py::test_greeter_help_mentions_option_and_argument
FAILED tests/Typer/functional_test.py::test_todo_list_empty_shows_no_tasks - ...
FAILED tests/Typer/functional_test.py::test_todo_add_and_list - AssertionErro...
FAILED tests/Typer/functional_test.py::test_todo_remove_then_list_updates - a...
FAILED tests/Typer/functional_test.py::test_prompt_option_happy_path - TypeEr...
FAILED tests/Typer/functional_test.py::test_envvar_option_happy_path - TypeEr...
FAILED tests/Typer/functional_test.py::test_callback_global_option_affects_command_output
FAILED tests/Typer/functional_test.py::test_typed_arguments_and_float_option
10 failed, 2 passed in 0.68s
