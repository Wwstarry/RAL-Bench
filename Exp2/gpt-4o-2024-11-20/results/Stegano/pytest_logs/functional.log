FFFFFFFFFFFF                                                             [100%]
================================== FAILURES ===================================
________________________ test_lsb_hide_and_reveal_text ________________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_lsb_hide_and_reveal_text0')

    def test_lsb_hide_and_reveal_text(tmp_path: Path) -> None:
        """lsb.hide(..., str) then lsb.reveal(...) returns the same string."""
        _ensure_image_samples_exist()
    
        secret = "hello world"
        output = tmp_path / "lsb_lenna.png"
    
>       encoded_img = lsb.hide(str(LENNA_PNG), secret)

tests\Stegano\functional_test.py:90: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

image = 'D:\\桌面\\RealAppCodeBench_generic_eval\\repositories\\Stegano\\tests\\sample-files\\Lenna.png'
message = 'hello world', generator = None, shift = 0, encoding = 'UTF-8'
auto_convert_rgb = False

    def hide(image, message, generator=None, shift=0, encoding="UTF-8", auto_convert_rgb=False):
        if auto_convert_rgb and image.mode != "RGB":
            image = image.convert("RGB")
>       pixels = list(image.getdata())
E       AttributeError: 'str' object has no attribute 'getdata'

generation\Stegano\stegano\lsb\lsb.py:7: AttributeError
___________________ test_lsb_hide_and_reveal_with_generator ___________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_lsb_hide_and_reveal_with_0')

    def test_lsb_hide_and_reveal_with_generator(tmp_path: Path) -> None:
        """lsb hide/reveal with a deterministic generator."""
        _ensure_image_samples_exist()
    
        secret = "generator secret"
        output = tmp_path / "lsb_generator.png"
    
        gen = generators.eratosthenes()
>       encoded_img = lsb.hide(str(LENNA_PNG), secret, generator=gen)

tests\Stegano\functional_test.py:105: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

image = 'D:\\桌面\\RealAppCodeBench_generic_eval\\repositories\\Stegano\\tests\\sample-files\\Lenna.png'
message = 'generator secret'
generator = <generator object eratosthenes at 0x00000230AB3A6CF0>, shift = 0
encoding = 'UTF-8', auto_convert_rgb = False

    def hide(image, message, generator=None, shift=0, encoding="UTF-8", auto_convert_rgb=False):
        if auto_convert_rgb and image.mode != "RGB":
            image = image.convert("RGB")
>       pixels = list(image.getdata())
E       AttributeError: 'str' object has no attribute 'getdata'

generation\Stegano\stegano\lsb\lsb.py:7: AttributeError
__________________ test_lsb_hide_and_reveal_long_ascii_text ___________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_lsb_hide_and_reveal_long_0')

    def test_lsb_hide_and_reveal_long_ascii_text(tmp_path: Path) -> None:
        """LSB should roundtrip a longer ASCII text message (still < typical capacity)."""
        _ensure_image_samples_exist()
    
        secret = "This is a longer secret message with punctuation: 12345, hello-world!"
        output = tmp_path / "lsb_long.png"
    
>       encoded_img = lsb.hide(str(LENNA_PNG), secret)

tests\Stegano\functional_test.py:120: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

image = 'D:\\桌面\\RealAppCodeBench_generic_eval\\repositories\\Stegano\\tests\\sample-files\\Lenna.png'
message = 'This is a longer secret message with punctuation: 12345, hello-world!'
generator = None, shift = 0, encoding = 'UTF-8', auto_convert_rgb = False

    def hide(image, message, generator=None, shift=0, encoding="UTF-8", auto_convert_rgb=False):
        if auto_convert_rgb and image.mode != "RGB":
            image = image.convert("RGB")
>       pixels = list(image.getdata())
E       AttributeError: 'str' object has no attribute 'getdata'

generation\Stegano\stegano\lsb\lsb.py:7: AttributeError
______________________ test_lsb_reveal_from_image_object ______________________

    def test_lsb_reveal_from_image_object() -> None:
        """lsb.reveal should work when passed a PIL.Image object (common API usage)."""
        _ensure_image_samples_exist()
    
        secret = "object input"
>       img_obj = lsb.hide(str(LENNA_PNG), secret)

tests\Stegano\functional_test.py:132: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

image = 'D:\\桌面\\RealAppCodeBench_generic_eval\\repositories\\Stegano\\tests\\sample-files\\Lenna.png'
message = 'object input', generator = None, shift = 0, encoding = 'UTF-8'
auto_convert_rgb = False

    def hide(image, message, generator=None, shift=0, encoding="UTF-8", auto_convert_rgb=False):
        if auto_convert_rgb and image.mode != "RGB":
            image = image.convert("RGB")
>       pixels = list(image.getdata())
E       AttributeError: 'str' object has no attribute 'getdata'

generation\Stegano\stegano\lsb\lsb.py:7: AttributeError
________________________ test_red_hide_and_reveal_text ________________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_red_hide_and_reveal_text0')

    def test_red_hide_and_reveal_text(tmp_path: Path) -> None:
        """red.hide(..., str) then red.reveal(...) returns the same string."""
        _ensure_image_samples_exist()
    
        secret = "red secret"
        output = tmp_path / "red_lenna.png"
    
>       encoded_img = red.hide(str(LENNA_PNG), secret)

tests\Stegano\functional_test.py:148: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

image = 'D:\\桌面\\RealAppCodeBench_generic_eval\\repositories\\Stegano\\tests\\sample-files\\Lenna.png'
message = 'red secret'

    def hide(image, message):
>       pixels = list(image.getdata())
E       AttributeError: 'str' object has no attribute 'getdata'

generation\Stegano\stegano\red\red.py:4: AttributeError
________________ test_red_hide_and_reveal_extended_latin_text _________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_red_hide_and_reveal_exten0')

    def test_red_hide_and_reveal_extended_latin_text(tmp_path: Path) -> None:
        """Red backend stores per-char ord() into a byte channel; Latin-1 chars like 'é' are valid."""
        _ensure_image_samples_exist()
    
        secret = "Café au lait"
        output = tmp_path / "red_latin.png"
    
>       encoded_img = red.hide(str(LENNA_PNG), secret)

tests\Stegano\functional_test.py:162: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

image = 'D:\\桌面\\RealAppCodeBench_generic_eval\\repositories\\Stegano\\tests\\sample-files\\Lenna.png'
message = 'Café au lait'

    def hide(image, message):
>       pixels = list(image.getdata())
E       AttributeError: 'str' object has no attribute 'getdata'

generation\Stegano\stegano\red\red.py:4: AttributeError
_______________________ test_exif_hide_and_reveal_bytes _______________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_exif_hide_and_reveal_byte0')

    def test_exif_hide_and_reveal_bytes(tmp_path: Path) -> None:
        """exifHeader.hide writes output file, exifHeader.reveal returns original bytes."""
        _ensure_image_samples_exist()
    
        secret = b"exif secret bytes"
        output = tmp_path / "exif_out.jpg"
    
        exifHeader.hide(str(EXIF_JPEG), str(output), secret_message=secret)
        assert output.exists()
        assert output.stat().st_size > 0
    
>       revealed = exifHeader.reveal(str(output))

tests\Stegano\functional_test.py:184: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

image = 'C:\\Users\\86152\\AppData\\Local\\Temp\\pytest-of-86152\\pytest-275\\test_exif_hide_and_reveal_byte0\\exif_out.jpg'

    def reveal(image):
        exif_dict = piexif.load(image)
>       return exif_dict["0th"].get(piexif.ImageIFD.Make, "").encode("utf-8")
E       AttributeError: 'bytes' object has no attribute 'encode'

generation\Stegano\stegano\exifHeader\exifHeader.py:14: AttributeError
_____________ test_exif_hide_two_outputs_with_different_payloads ______________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_exif_hide_two_outputs_wit0')

    def test_exif_hide_two_outputs_with_different_payloads(tmp_path: Path) -> None:
        """Write two different EXIF-hidden files (two independent happy-path scenarios)."""
        _ensure_image_samples_exist()
    
        out1 = tmp_path / "exif_one.jpg"
        out2 = tmp_path / "exif_two.jpg"
    
        secret1 = b"payload-one"
        secret2 = b"payload-two"
    
        exifHeader.hide(str(EXIF_JPEG), str(out1), secret_message=secret1)
        exifHeader.hide(str(EXIF_JPEG), str(out2), secret_message=secret2)
    
        assert out1.exists() and out1.stat().st_size > 0
        assert out2.exists() and out2.stat().st_size > 0
    
>       assert exifHeader.reveal(str(out1)) == secret1

tests\Stegano\functional_test.py:204: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

image = 'C:\\Users\\86152\\AppData\\Local\\Temp\\pytest-of-86152\\pytest-275\\test_exif_hide_two_outputs_wit0\\exif_one.jpg'

    def reveal(image):
        exif_dict = piexif.load(image)
>       return exif_dict["0th"].get(piexif.ImageIFD.Make, "").encode("utf-8")
E       AttributeError: 'bytes' object has no attribute 'encode'

generation\Stegano\stegano\exifHeader\exifHeader.py:14: AttributeError
________________________ test_wav_hide_and_reveal_text ________________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_wav_hide_and_reveal_text0')

    def test_wav_hide_and_reveal_text(tmp_path: Path) -> None:
        """wav.hide writes output WAV; wav.reveal returns the same string."""
        wav_in = _pick_sample_wav()
    
        secret = "wav secret"
        output = tmp_path / "out.wav"
    
        wav.hide(str(wav_in), secret, str(output))
        assert output.exists()
        assert output.stat().st_size > 0
    
        revealed = wav.reveal(str(output))
>       assert revealed == secret
E       assert 'wav secret\\x...\\x82\\x94\xc9P\xbbv,' == 'wav secret'
E         
E         - wav secret
E         + wav secret\x80\x80\x9f\x15\x10U\x82\x03|\x81\xcdT\x8a\x13
E         
E         + J'y\xfe\xc2\xaa\x82\x97\xffe^h(\x08\xa0\x8d\xdf\x0f\xd3\xb2\x82\x08\xcdgu\xdb9(*g\x9f\xe0\x8a\xa0\xb5]T\xae\xc2W\xf1\x8a("
E         + \x03\xf1\xfdu\xdft\xaf\xa8\xe2 \x02\x89_\x14:\xe2\x885\xff\xda\xec\xa9LV{\x82\x9aT\xa8\x8aZ
E         ...
E         
E         ...Full output truncated (11781 lines hidden), use '-vv' to show

tests\Stegano\functional_test.py:224: AssertionError
_____________________ test_wav_hide_and_reveal_short_text _____________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_wav_hide_and_reveal_short0')

    def test_wav_hide_and_reveal_short_text(tmp_path: Path) -> None:
        """A short message should also roundtrip."""
        wav_in = _pick_sample_wav()
    
        secret = "ok"
        output = tmp_path / "out_short.wav"
    
        wav.hide(str(wav_in), secret, str(output))
        assert output.exists()
        assert output.stat().st_size > 0
    
        revealed = wav.reveal(str(output))
>       assert revealed == secret
E       assert 'ok\\x18,\\xad\\...\\x82\\x94\xc9P\xbbv,' == 'ok'
E         
E         - ok
E         + ok\x18,\xad\xadE\xf4"(\x80\x80\x9f\x15\x10U\x82\x03|\x81\xcdT\x8a\x13
E         
E         + J'y\xfe\xc2\xaa\x82\x97\xffe^h(\x08\xa0\x8d\xdf\x0f\xd3\xb2\x82\x08\xcdgu\xdb9(*g\x9f\xe0\x8a\xa0\xb5]T\xae\xc2W\xf1\x8a("
E         + \x03\xf1\xfdu\xdft\xaf\xa8\xe2 \x02\x89_\x14:\xe2\x885\xff\xda\xec\xa9LV{\x82\x9aT\xa8\x8aZ
E         ...
E         
E         ...Full output truncated (11781 lines hidden), use '-vv' to show

tests\Stegano\functional_test.py:239: AssertionError
____________________ test_wav_hide_and_reveal_longer_text _____________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_wav_hide_and_reveal_longe0')

    def test_wav_hide_and_reveal_longer_text(tmp_path: Path) -> None:
        """Roundtrip a longer ASCII message via WAV backend."""
        wav_in = _pick_sample_wav()
    
        secret = "WAV backend long message: 1234567890 abcdefghijklmnopqrstuvwxyz"
        output = tmp_path / "out_long.wav"
    
        wav.hide(str(wav_in), secret, str(output))
        assert output.exists()
        assert output.stat().st_size > 0
    
        revealed = wav.reveal(str(output))
>       assert revealed == secret
E       assert 'WAV backend ...\\x82\\x94\xc9P\xbbv,' == 'WAV backend ...nopqrstuvwxyz'
E         
E         Skipping 52 identical leading characters in diff, use -v to show
E         - pqrstuvwxyz
E         + pqrstuvwxyz\xc2W\xf1\x8a("
E         ?            +++++++
E         + \x03\xf1\xfdu\xdft\xaf\xa8\xe2 \x02\x89_\x14:\xe2\x885\xff\xda\xec\xa9LV{\x82\x9aT\xa8\x8aZ
E         ...
E         
E         ...Full output truncated (11781 lines hidden), use '-vv' to show

tests\Stegano\functional_test.py:254: AssertionError
_____________________ test_lsb_and_red_outputs_are_files ______________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-275/test_lsb_and_red_outputs_are_f0')

    def test_lsb_and_red_outputs_are_files(tmp_path: Path) -> None:
        """Ensure image-encoding backends produce files that can be written to disk."""
        _ensure_image_samples_exist()
    
        out_lsb = tmp_path / "lsb_file.png"
        out_red = tmp_path / "red_file.png"
    
>       lsb.hide(str(LENNA_PNG), "x").save(str(out_lsb))

tests\Stegano\functional_test.py:268: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

image = 'D:\\桌面\\RealAppCodeBench_generic_eval\\repositories\\Stegano\\tests\\sample-files\\Lenna.png'
message = 'x', generator = None, shift = 0, encoding = 'UTF-8'
auto_convert_rgb = False

    def hide(image, message, generator=None, shift=0, encoding="UTF-8", auto_convert_rgb=False):
        if auto_convert_rgb and image.mode != "RGB":
            image = image.convert("RGB")
>       pixels = list(image.getdata())
E       AttributeError: 'str' object has no attribute 'getdata'

generation\Stegano\stegano\lsb\lsb.py:7: AttributeError
=========================== short test summary info ===========================
FAILED tests/Stegano/functional_test.py::test_lsb_hide_and_reveal_text - Attr...
FAILED tests/Stegano/functional_test.py::test_lsb_hide_and_reveal_with_generator
FAILED tests/Stegano/functional_test.py::test_lsb_hide_and_reveal_long_ascii_text
FAILED tests/Stegano/functional_test.py::test_lsb_reveal_from_image_object - ...
FAILED tests/Stegano/functional_test.py::test_red_hide_and_reveal_text - Attr...
FAILED tests/Stegano/functional_test.py::test_red_hide_and_reveal_extended_latin_text
FAILED tests/Stegano/functional_test.py::test_exif_hide_and_reveal_bytes - At...
FAILED tests/Stegano/functional_test.py::test_exif_hide_two_outputs_with_different_payloads
FAILED tests/Stegano/functional_test.py::test_wav_hide_and_reveal_text - asse...
FAILED tests/Stegano/functional_test.py::test_wav_hide_and_reveal_short_text
FAILED tests/Stegano/functional_test.py::test_wav_hide_and_reveal_longer_text
FAILED tests/Stegano/functional_test.py::test_lsb_and_red_outputs_are_files
12 failed in 5.83s
