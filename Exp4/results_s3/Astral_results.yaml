project_name: Astral
task_file: D:\桌面\RealAppCodeBench_generic_eval\tasks\Astral\astral.yaml
generated_repo: D:\桌面\RealAppCodeBench_generic_eval\generation_m4\Astral
timestamp: '2026-01-14 18:37:11'
functional_score: 0.7273
non_functional_score: 0.9641
non_functional_subscores:
  maintainability: 0.9172
  security: 1.0
  robustness: 1.0
  performance: 0.9497
  resource: 1.0
non_functional_weights:
  maintainability: 0.36
  security: 0.24
  robustness: 0.16
  performance: 0.12
  resource: 0.12
results:
  functional:
    returncode: 1
    stdout: "..F.....FF.                                                         \
      \     [100%]\n================================== FAILURES ===================================\n\
      _________________________ test_moon_phase_reasonable __________________________\n\
      \n    def test_moon_phase_reasonable() -> None:\n        \"\"\"Moon phase should\
      \ be in a valid range and change reasonably across days.\"\"\"\n        d1 =\
      \ dt.date(2020, 1, 1)\n        d2 = d1 + dt.timedelta(days=1)\n    \n>     \
      \  p1 = float(moon.phase(d1))\n\ntests\\Astral\\functional_test.py:143: \n_\
      \ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\
      \ _ _\n\ndate = datetime.date(2020, 1, 1)\n\n    def phase(date=None) -> float:\n\
      \        \"\"\"Return lunar phase as days into the synodic month [0, 29.53..].\n\
      \    \n        Deterministic and stable: computed from an epoch new moon and\
      \ synodic month.\n        Uses UTC noon of the provided date to reduce timezone\
      \ edge effects.\n        \"\"\"\n        if date is None:\n            d = datetime.now(timezone.utc).date()\n\
      \        else:\n            if isinstance(date, datetime):\n               \
      \ if date.tzinfo is None:\n                    date = date.replace(tzinfo=timezone.utc)\n\
      \                date = date.astimezone(timezone.utc)\n                d = date.date()\n\
      >           elif isinstance(date, date.__class__) and isinstance(date, date):\n\
      E           TypeError: isinstance() arg 2 must be a type or tuple of types\n\
      \ngeneration_m4\\Astral\\astral\\moon.py:26: TypeError\n_________________ test_moon_phase_is_repeatable_for_same_day\
      \ __________________\n\n    def test_moon_phase_is_repeatable_for_same_day()\
      \ -> None:\n        d = dt.date(2020, 2, 20)\n>       p1 = float(moon.phase(d))\n\
      \ntests\\Astral\\functional_test.py:227: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\
      \ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndate = datetime.date(2020,\
      \ 2, 20)\n\n    def phase(date=None) -> float:\n        \"\"\"Return lunar phase\
      \ as days into the synodic month [0, 29.53..].\n    \n        Deterministic\
      \ and stable: computed from an epoch new moon and synodic month.\n        Uses\
      \ UTC noon of the provided date to reduce timezone edge effects.\n        \"\
      \"\"\n        if date is None:\n            d = datetime.now(timezone.utc).date()\n\
      \        else:\n            if isinstance(date, datetime):\n               \
      \ if date.tzinfo is None:\n                    date = date.replace(tzinfo=timezone.utc)\n\
      \                date = date.astimezone(timezone.utc)\n                d = date.date()\n\
      >           elif isinstance(date, date.__class__) and isinstance(date, date):\n\
      E           TypeError: isinstance() arg 2 must be a type or tuple of types\n\
      \ngeneration_m4\\Astral\\astral\\moon.py:26: TypeError\n_____________________\
      \ test_moon_phase_varies_over_a_week ______________________\n\n    def test_moon_phase_varies_over_a_week()\
      \ -> None:\n        base = dt.date(2020, 1, 1)\n>       phases = [float(moon.phase(base\
      \ + dt.timedelta(days=i))) for i in range(7)]\n\ntests\\Astral\\functional_test.py:234:\
      \ \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\
      \ _ _ _ _\ntests\\Astral\\functional_test.py:234: in <listcomp>\n    phases\
      \ = [float(moon.phase(base + dt.timedelta(days=i))) for i in range(7)]\n_ _\
      \ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\
      \ _\n\ndate = datetime.date(2020, 1, 1)\n\n    def phase(date=None) -> float:\n\
      \        \"\"\"Return lunar phase as days into the synodic month [0, 29.53..].\n\
      \    \n        Deterministic and stable: computed from an epoch new moon and\
      \ synodic month.\n        Uses UTC noon of the provided date to reduce timezone\
      \ edge effects.\n        \"\"\"\n        if date is None:\n            d = datetime.now(timezone.utc).date()\n\
      \        else:\n            if isinstance(date, datetime):\n               \
      \ if date.tzinfo is None:\n                    date = date.replace(tzinfo=timezone.utc)\n\
      \                date = date.astimezone(timezone.utc)\n                d = date.date()\n\
      >           elif isinstance(date, date.__class__) and isinstance(date, date):\n\
      E           TypeError: isinstance() arg 2 must be a type or tuple of types\n\
      \ngeneration_m4\\Astral\\astral\\moon.py:26: TypeError\n===========================\
      \ short test summary info ===========================\nFAILED tests/Astral/functional_test.py::test_moon_phase_reasonable\
      \ - TypeErro...\nFAILED tests/Astral/functional_test.py::test_moon_phase_is_repeatable_for_same_day\n\
      FAILED tests/Astral/functional_test.py::test_moon_phase_varies_over_a_week -\
      \ ...\n3 failed, 8 passed in 0.47s\n"
    elapsed_time_s: 1.628813
    avg_memory_mb: 32.2
    avg_cpu_percent: 102.1
    passed: 8
    failed: 3
    skipped: 0
    total: 11
    score_inputs_passed: 8
    score_inputs_failed: 3
    score_inputs_total: 11
    score_inputs_returncode: 1
    score_inputs_failed_suite: true
    score_inputs_baseline_keys:
    - functional_suite_time_s
    - functional_tests_total
  performance:
    returncode: 0
    stdout: '.                                                                        [100%]

      1 passed in 0.13s

      '
    elapsed_time_s: 1.273182
    avg_memory_mb: 31.58
    avg_cpu_percent: 97.3
    passed: 1
    failed: 0
    skipped: 0
    total: 1
    score_inputs_passed: 1
    score_inputs_failed: 0
    score_inputs_total: 1
    score_inputs_returncode: 0
    score_inputs_failed_suite: false
    score_inputs_baseline_keys:
    - performance_suite_time_s
    - performance_tests_total
    score_inputs_baseline_time_s: 1.209133
    score_inputs_actual_time_s: 1.273182
  resource:
    returncode: 0
    stdout: '.                                                                        [100%]

      1 passed in 0.15s

      '
    elapsed_time_s: 1.295663
    avg_memory_mb: 33.08
    avg_cpu_percent: 102.7
    passed: 1
    failed: 0
    skipped: 0
    total: 1
    score_inputs_passed: 1
    score_inputs_failed: 0
    score_inputs_total: 1
    score_inputs_returncode: 0
    score_inputs_failed_suite: false
    score_inputs_baseline_keys:
    - avg_cpu_percent
    - avg_memory_mb
    - resource_suite_time_s
    - resource_tests_total
    score_inputs_baseline_mem_mb: 33.35
    score_inputs_baseline_cpu_pct: 104.2
    score_inputs_actual_mem_mb: 33.08
    score_inputs_actual_cpu_pct: 102.7
  robustness:
    returncode: 0
    stdout: '...                                                                      [100%]

      3 passed in 0.13s

      '
    elapsed_time_s: 1.323288
    avg_memory_mb: 31.39
    avg_cpu_percent: 97.4
    passed: 3
    failed: 0
    skipped: 0
    total: 3
    score_inputs_passed: 3
    score_inputs_failed: 0
    score_inputs_total: 3
    score_inputs_returncode: 0
    score_inputs_failed_suite: false
    score_inputs_baseline_keys:
    - robustness_suite_time_s
    - robustness_tests_total
  security:
    returncode: 0
    stdout: 'SECURITY_METRICS high_risk_count=0.0 files_scanned=6.0 total_loc=284.0

      .

      1 passed in 0.11s

      '
    elapsed_time_s: 1.269738
    avg_memory_mb: 31.57
    avg_cpu_percent: 100.0
    passed: 1
    failed: 0
    skipped: 0
    total: 1
    metrics:
      high_risk_count: 0.0
      files_scanned: 6.0
      total_loc: 284.0
    score_inputs_passed: 1
    score_inputs_failed: 0
    score_inputs_total: 1
    score_inputs_returncode: 0
    score_inputs_failed_suite: false
    score_inputs_baseline_keys:
    - metrics
    - security_suite_time_s
    - security_tests_total
    score_inputs_baseline_high_risk_count: 0.0
    score_inputs_generated_high_risk_count: 0.0
  maintainability:
    returncode: 0
    stdout: 'MAINT_METRICS mi_min=23.9862 files_scanned=6.0 total_loc=284.0 max_cc=8.0

      .

      1 passed in 0.13s

      '
    elapsed_time_s: 1.254645
    avg_memory_mb: 31.79
    avg_cpu_percent: 98.6
    passed: 1
    failed: 0
    skipped: 0
    total: 1
    metrics:
      mi_min: 23.9862
      files_scanned: 6.0
      total_loc: 284.0
      max_cc: 8.0
    score_inputs_passed: 1
    score_inputs_failed: 0
    score_inputs_total: 1
    score_inputs_returncode: 0
    score_inputs_failed_suite: false
    score_inputs_baseline_keys:
    - maintainability_suite_time_s
    - maintainability_tests_total
    - metrics
    score_inputs_baseline_mi_min: 2.1658
    score_inputs_generated_mi_min: 23.9862
    score_inputs_ratio_g_over_b: 11.074983839689722
baseline_metrics:
  functional:
    functional_suite_time_s: 1.258826
    functional_tests_total: 11
  performance:
    performance_suite_time_s: 1.209133
    performance_tests_total: 1
  resource:
    resource_suite_time_s: 1.220496
    resource_tests_total: 1
    avg_memory_mb: 33.35
    avg_cpu_percent: 104.2
  robustness:
    robustness_suite_time_s: 1.213882
    robustness_tests_total: 3
  security:
    security_suite_time_s: 1.42552
    security_tests_total: 1
    metrics:
      high_risk_count: 0.0
      files_scanned: 36.0
      total_loc: 4949.0
  maintainability:
    maintainability_suite_time_s: 1.668661
    maintainability_tests_total: 1
    metrics:
      mi_min: 2.1658
      files_scanned: 36.0
      total_loc: 4949.0
      max_cc: 20.0
pytest_logs_dir: D:\桌面\RealAppCodeBench_generic_eval\results\Astral\pytest_logs
