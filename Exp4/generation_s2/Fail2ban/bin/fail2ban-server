#!/usr/bin/env python3
import argparse


def main(argv=None) -> int:
    p = argparse.ArgumentParser(
        prog="fail2ban-server",
        description="Safe stub of fail2ban-server. This benchmark repository does not start daemons.",
    )
    p.add_argument("--help-only", action="store_true", help="No-op flag; server is not implemented.")
    p.add_argument("--version", action="store_true", help="Show version and exit.")
    ns = p.parse_args(argv)
    if ns.version:
        try:
            from fail2ban import __version__
        except Exception:
            __version__ = "unknown"
        print(__version__)
    else:
        p.print_help()
    return 0


if __name__ == "__main__":
    raise SystemExit(main())