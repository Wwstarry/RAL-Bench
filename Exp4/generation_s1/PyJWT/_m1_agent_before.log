.......F                                                                 [100%]
================================== FAILURES ===================================
_________________________ test_datetime_exp_supported _________________________

    def test_datetime_exp_supported():
        exp = dt.datetime.fromtimestamp(time.time() + 60)
>       token = jwt.encode({"exp": exp, "a": 1}, "secret", algorithm="HS256")

generation_m1\PyJWT\_agent_tests\test_agent_basic.py:60: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
generation_m1\PyJWT\jwt\api_jwt.py:82: in encode
    payload_b64 = _b64url_encode(_json_dumps(payload).encode("utf-8"))
generation_m1\PyJWT\jwt\api_jwt.py:43: in _json_dumps
    return json.dumps(obj, separators=(",", ":"), sort_keys=True, ensure_ascii=False)
C:\Users\86152\AppData\Local\Programs\Python\Python39\lib\json\__init__.py:234: in dumps
    return cls(
C:\Users\86152\AppData\Local\Programs\Python\Python39\lib\json\encoder.py:199: in encode
    chunks = self.iterencode(o, _one_shot=True)
C:\Users\86152\AppData\Local\Programs\Python\Python39\lib\json\encoder.py:257: in iterencode
    return _iterencode(o, 0)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <json.encoder.JSONEncoder object at 0x000001F3273AFD00>
o = datetime.datetime(2026, 1, 14, 22, 50, 52, 328279)

    def default(self, o):
        """Implement this method in a subclass such that it returns
        a serializable object for ``o``, or calls the base implementation
        (to raise a ``TypeError``).
    
        For example, to support arbitrary iterators, you could
        implement default like this::
    
            def default(self, o):
                try:
                    iterable = iter(o)
                except TypeError:
                    pass
                else:
                    return list(iterable)
                # Let the base class default method raise the TypeError
                return JSONEncoder.default(self, o)
    
        """
>       raise TypeError(f'Object of type {o.__class__.__name__} '
                        f'is not JSON serializable')
E       TypeError: Object of type datetime is not JSON serializable

C:\Users\86152\AppData\Local\Programs\Python\Python39\lib\json\encoder.py:179: TypeError
=========================== short test summary info ===========================
FAILED generation_m1/PyJWT/_agent_tests/test_agent_basic.py::test_datetime_exp_supported
1 failed, 7 passed in 0.50s
