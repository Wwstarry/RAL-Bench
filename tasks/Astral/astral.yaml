task_id: astral
domain: lifestyle
difficulty: medium
description: 'Implement a pure Python sun and moon time calculation library that is

  API-compatible with the core parts of the reference Astral project under

  ./repositories/astral. The generated repository must:


  - Provide a top-level "astral" package importable with `import astral`.


  - Match the key public API surface used by the test suite, including at least:

  * astral.LocationInfo for representing named locations with latitude,

  longitude and timezone information.

  * an observer attribute on LocationInfo (or equivalent) exposing latitude,

  longitude and elevation fields compatible with the reference implementation.

  * functions in astral.sun such as:

  - sun(observer, date=None, tzinfo=...)

  - sunrise(observer, date=None, tzinfo=...)

  - sunset(observer, date=None, tzinfo=...)

  returning timezone-aware datetime objects.

  * functions in astral.moon such as:

  - phase(date)

  returning a numeric lunar phase value within a valid range.


  - Correctly compute dawn, sunrise, noon, sunset and dusk times for a given

  observer and date, with returned times in the timezone requested via tzinfo.


  - Ensure sunrise/sunset helpers agree (up to small tolerances) with values in

  the dict returned by astral.sun.sun for scenarios exercised by tests.


  - Provide stable and monotonic behaviour for lunar phase across consecutive days.


  - Behave so the same black-box tests run successfully on the generated repo,

  including exact public API names, module layout, and observable behaviour.

  '
reference_repository: ./repositories/astral
generated_repository: ./generation/Astral
package:
  name: astral
  root_dir: .
test_suite:
  functional: ./tests/Astral/functional_test.py
  performance: ./tests/Astral/performance_test.py
  resource: ./tests/Astral/resource_test.py
  robustness: ./tests/Astral/robustness_test.py
  security: ./tests/_generic/security_test.py
  maintainability: ./tests/_generic/maintainability_test.py
suite_timeouts_s:
  default: 60
  functional: 60
  performance: 60
  resource: 60
  robustness: 60
  security: 60
  maintainability: 60
interfaces:
  entry_point: astral/__init__.py
  language: python
  type: LIB
baseline_metrics:
  functional:
    functional_suite_time_s: 1.258826
    functional_tests_total: 11
  performance:
    performance_suite_time_s: 1.209133
    performance_tests_total: 1
  resource:
    resource_suite_time_s: 1.220496
    resource_tests_total: 1
    avg_memory_mb: 33.35
    avg_cpu_percent: 104.2
  robustness:
    robustness_suite_time_s: 1.213882
    robustness_tests_total: 3
  security:
    security_suite_time_s: 1.42552
    security_tests_total: 1
    metrics:
      high_risk_count: 0.0
      files_scanned: 36.0
      total_loc: 4949.0
  maintainability:
    maintainability_suite_time_s: 1.668661
    maintainability_tests_total: 1
    metrics:
      mi_min: 2.1658
      files_scanned: 36.0
      total_loc: 4949.0
      max_cc: 20.0
