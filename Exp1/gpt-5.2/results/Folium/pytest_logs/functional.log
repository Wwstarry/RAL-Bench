..FFFFFFFF.F                                                             [100%]
================================== FAILURES ===================================
__________________ test_002_create_basic_map_renders_leaflet __________________

    def test_002_create_basic_map_renders_leaflet():
        _prepend_import_path()
        import folium
    
        m = folium.Map(location=[0, 0], zoom_start=2)
>       html = m.get_root().render()

tests\Folium\functional_test.py:47: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
generation\Folium\folium\map.py:103: in render
    return fig.render(**kwargs)
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
E   RecursionError: maximum recursion depth exceeded while calling a Python object
!!! Recursion detected (same locals & position)
_________________________ test_003_map_has_html_root __________________________

    def test_003_map_has_html_root():
        _prepend_import_path()
        import folium
    
        m = folium.Map(location=[0, 0], zoom_start=2)
        root = m.get_root()
        assert hasattr(root, "render")
>       html = root.render().lower()

tests\Folium\functional_test.py:58: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
generation\Folium\folium\map.py:103: in render
    return fig.render(**kwargs)
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
E   RecursionError: maximum recursion depth exceeded while calling a Python object
!!! Recursion detected (same locals & position)
__________________ test_004_add_marker_layer_changes_output ___________________

    def test_004_add_marker_layer_changes_output():
        _prepend_import_path()
        import folium
    
        m = folium.Map(location=[0, 0], zoom_start=2)
>       base = m.get_root().render()

tests\Folium\functional_test.py:67: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
generation\Folium\folium\map.py:103: in render
    return fig.render(**kwargs)
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
E   RecursionError: maximum recursion depth exceeded while calling a Python object
!!! Recursion detected (same locals & position)
__________________ test_005_add_circle_marker_changes_output __________________

    def test_005_add_circle_marker_changes_output():
        _prepend_import_path()
        import folium
    
        m = folium.Map(location=[0, 0], zoom_start=2)
>       base = m.get_root().render()

tests\Folium\functional_test.py:80: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
generation\Folium\folium\map.py:103: in render
    return fig.render(**kwargs)
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
E   RecursionError: maximum recursion depth exceeded while calling a Python object
!!! Recursion detected (same locals & position)
__________________ test_006_add_tile_layer_and_layer_control __________________

    def test_006_add_tile_layer_and_layer_control():
        _prepend_import_path()
        import folium
    
        m = folium.Map(location=[0, 0], zoom_start=2, tiles=None)
        folium.TileLayer("OpenStreetMap", name="osm").add_to(m)
        folium.LayerControl().add_to(m)
    
>       html = m.get_root().render().lower()

tests\Folium\functional_test.py:95: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
generation\Folium\folium\map.py:103: in render
    return fig.render(**kwargs)
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
E   RecursionError: maximum recursion depth exceeded while encoding a JSON object
!!! Recursion detected (same locals & position)
__________________ test_007_geojson_adds_feature_collection ___________________

    def test_007_geojson_adds_feature_collection():
        _prepend_import_path()
        import folium
    
        gj = {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "properties": {"name": "p"},
                    "geometry": {"type": "Point", "coordinates": [0.0, 0.0]},
                }
            ],
        }
    
        m = folium.Map(location=[0, 0], zoom_start=2)
        folium.GeoJson(gj, name="g").add_to(m)
    
>       html = m.get_root().render().lower()

tests\Folium\functional_test.py:117: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
generation\Folium\folium\map.py:103: in render
    return fig.render(**kwargs)
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
E   RecursionError: maximum recursion depth exceeded while encoding a JSON object
!!! Recursion detected (same locals & position)
_________________ test_008_geojson_style_function_serializes __________________

    def test_008_geojson_style_function_serializes():
        _prepend_import_path()
        import folium
    
        gj = {
            "type": "FeatureCollection",
            "features": [
                {
                    "type": "Feature",
                    "properties": {"style": "x"},
                    "geometry": {"type": "Point", "coordinates": [0.0, 0.0]},
                }
            ],
        }
    
        def style_fn(feature):
            _ = feature
            return {"color": "red", "weight": 2}
    
        m = folium.Map(location=[0, 0], zoom_start=2)
        folium.GeoJson(gj, style_function=style_fn).add_to(m)
    
>       html = m.get_root().render().lower()

tests\Folium\functional_test.py:143: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
generation\Folium\folium\map.py:103: in render
    return fig.render(**kwargs)
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
E   RecursionError: maximum recursion depth exceeded while encoding a JSON object
!!! Recursion detected (same locals & position)
________________________ test_009_map_save_writes_html ________________________

tmp_path = WindowsPath('C:/Users/86152/AppData/Local/Temp/pytest-of-86152/pytest-370/test_009_map_save_writes_html0')

    def test_009_map_save_writes_html(tmp_path: Path):
        _prepend_import_path()
        import folium
    
        out = tmp_path / "m.html"
        m = folium.Map(location=[0, 0], zoom_start=2)
>       m.save(str(out))
E       AttributeError: 'Map' object has no attribute 'save'

tests\Folium\functional_test.py:153: AttributeError
_________________ test_011_markercluster_adds_cluster_snippet _________________

    def test_011_markercluster_adds_cluster_snippet():
        _prepend_import_path()
        import folium
    
        plugins = _plugins_module()
        MarkerCluster = getattr(plugins, "MarkerCluster")
    
        m = folium.Map(location=[0, 0], zoom_start=2)
        mc = MarkerCluster(name="mc").add_to(m)
        assert mc is not None
    
>       html = m.get_root().render().lower()

tests\Folium\functional_test.py:177: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
generation\Folium\folium\map.py:103: in render
    return fig.render(**kwargs)
generation\Folium\folium\elements.py:65: in render
    ch.render(**kwargs)
E   RecursionError: maximum recursion depth exceeded while calling a Python object
!!! Recursion detected (same locals & position)
=========================== short test summary info ===========================
FAILED tests/Folium/functional_test.py::test_002_create_basic_map_renders_leaflet
FAILED tests/Folium/functional_test.py::test_003_map_has_html_root - Recursio...
FAILED tests/Folium/functional_test.py::test_004_add_marker_layer_changes_output
FAILED tests/Folium/functional_test.py::test_005_add_circle_marker_changes_output
FAILED tests/Folium/functional_test.py::test_006_add_tile_layer_and_layer_control
FAILED tests/Folium/functional_test.py::test_007_geojson_adds_feature_collection
FAILED tests/Folium/functional_test.py::test_008_geojson_style_function_serializes
FAILED tests/Folium/functional_test.py::test_009_map_save_writes_html - Attri...
FAILED tests/Folium/functional_test.py::test_011_markercluster_adds_cluster_snippet
9 failed, 3 passed in 14.67s
