FF                                                                       [100%]
================================== FAILURES ===================================
_______ test_resource_001_tracemalloc_growth_is_bounded_for_many_tasks ________

    @pytest.mark.resource
    def test_resource_001_tracemalloc_growth_is_bounded_for_many_tasks() -> None:
        """
        Use tracemalloc (stdlib) so the test stays portable.
        We only check that memory growth is not pathological.
        """
>       app = _make_app()

tests\Celery\resource_test.py:54: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\Celery\resource_test.py:30: in _make_app
    from celery import Celery
repositories\celery\celery\local.py:459: in __getattr__
    module = __import__(self._object_origins[name], None, None,
repositories\celery\celery\app\__init__.py:2: in <module>
    from celery import _state
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

    """Internal state.
    
    This is an internal module containing thread state
    like the ``current_app``, and ``current_task``.
    
    This module shouldn't be used directly.
    """
    
    import os
    import sys
    import threading
    import weakref
    
    from celery.local import Proxy
>   from celery.utils.threads import LocalStack
E   ModuleNotFoundError: No module named 'celery.utils.threads'

repositories\celery\celery\_state.py:15: ModuleNotFoundError
______ test_resource_002_repeated_app_creation_does_not_leak_excessively ______

    @pytest.mark.resource
    def test_resource_002_repeated_app_creation_does_not_leak_excessively() -> None:
        gc.collect()
        tracemalloc.start()
        snap0 = tracemalloc.take_snapshot()
    
        apps = []
        for i in range(30):
>           apps.append(_make_app(f"celery_resource_app_{i}"))

tests\Celery\resource_test.py:93: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\Celery\resource_test.py:30: in _make_app
    from celery import Celery
repositories\celery\celery\local.py:459: in __getattr__
    module = __import__(self._object_origins[name], None, None,
repositories\celery\celery\app\__init__.py:2: in <module>
    from celery import _state
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

    """Internal state.
    
    This is an internal module containing thread state
    like the ``current_app``, and ``current_task``.
    
    This module shouldn't be used directly.
    """
    
    import os
    import sys
    import threading
    import weakref
    
    from celery.local import Proxy
>   from celery.utils.threads import LocalStack
E   ModuleNotFoundError: No module named 'celery.utils.threads'

repositories\celery\celery\_state.py:15: ModuleNotFoundError
============================== warnings summary ===============================
tests\Celery\resource_test.py:48
  D:\桌面\RealAppCodeBench_generic_eval\tests\Celery\resource_test.py:48: PytestUnknownMarkWarning: Unknown pytest.mark.resource - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.resource

tests\Celery\resource_test.py:85
  D:\桌面\RealAppCodeBench_generic_eval\tests\Celery\resource_test.py:85: PytestUnknownMarkWarning: Unknown pytest.mark.resource - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.resource

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/Celery/resource_test.py::test_resource_001_tracemalloc_growth_is_bounded_for_many_tasks
FAILED tests/Celery/resource_test.py::test_resource_002_repeated_app_creation_does_not_leak_excessively
2 failed, 2 warnings in 0.53s
