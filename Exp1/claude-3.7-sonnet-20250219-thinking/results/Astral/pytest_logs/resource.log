F                                                                        [100%]
================================== FAILURES ===================================
__________________________ test_resource_usage_smoke __________________________

    def test_resource_usage_smoke() -> None:
        """
        Smoke test: run a representative batch workload and verify
        we can observe process resource info without crashing.
    
        Note: The benchmark runner measures subprocess resources.
        This test is correctness-oriented only.
        """
        proc = psutil.Process()
        rss_before = proc.memory_info().rss
    
        loc = _london_location()
        base_date = dt.date(2020, 1, 1)
    
        for offset in range(60):
            d = base_date + dt.timedelta(days=offset)
>           _ = sun(loc.observer, date=d, tzinfo=loc.timezone)

tests\Astral\resource_test.py:65: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

observer = <astral.locationinfo.Observer object at 0x0000020515F7EFA0>
date = datetime.date(2020, 1, 1), tzinfo = 'Europe/London'

    def sun(observer, date=None, tzinfo=None):
        """Calculate all sun-related values for a date.
    
        Args:
            observer: LocationInfo observer attribute or similar
            date: The date for which to calculate the times. Default is today.
            tzinfo: The timezone to use for the returned times.
    
        Returns:
            A dictionary with keys 'dawn', 'sunrise', 'noon', 'sunset', 'dusk'
            containing the respective times as datetime objects.
        """
        if date is None:
            date = datetime.date.today()
    
        if tzinfo is None:
            tzinfo = datetime.timezone.utc
    
        # Sunrise/sunset zenith adjusted for elevation
        sunrise_sunset_zenith = 90 + _adjust_to_horizon(observer.elevation)
    
        # Civil dawn/dusk zenith angle (6 degrees below horizon)
        dawn_dusk_zenith = 96  # 90 + 6
    
        # Calculate times
>       sunrise, sunset, noon = _calculate_sunrise_sunset(observer, date, tzinfo, sunrise_sunset_zenith)
E       ValueError: not enough values to unpack (expected 3, got 2)

generation\Astral\astral\sun.py:181: ValueError
=========================== short test summary info ===========================
FAILED tests/Astral/resource_test.py::test_resource_usage_smoke - ValueError:...
1 failed in 0.35s
