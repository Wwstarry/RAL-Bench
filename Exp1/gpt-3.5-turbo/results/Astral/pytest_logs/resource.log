F                                                                        [100%]
================================== FAILURES ===================================
__________________________ test_resource_usage_smoke __________________________

    def test_resource_usage_smoke() -> None:
        """
        Smoke test: run a representative batch workload and verify
        we can observe process resource info without crashing.
    
        Note: The benchmark runner measures subprocess resources.
        This test is correctness-oriented only.
        """
        proc = psutil.Process()
        rss_before = proc.memory_info().rss
    
        loc = _london_location()
        base_date = dt.date(2020, 1, 1)
    
        for offset in range(60):
            d = base_date + dt.timedelta(days=offset)
>           _ = sun(loc.observer, date=d, tzinfo=loc.timezone)

tests\Astral\resource_test.py:65: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

observer = Observer(latitude='Europe/London', longitude=51.5074, elevation=0.0)
date = datetime.date(2020, 1, 1), tzinfo = -0.1278

    def sun(observer: Observer, date: Optional[datetime] = None, tzinfo=None) -> Dict[str, datetime]:
        """
        Calculate sun times for the given observer and date.
        Returns dict with keys: dawn, sunrise, noon, sunset, dusk.
        """
        if date is None:
            date = datetime.now(tz=tzinfo)
        # Normalize date to date only
        date = date.date() if hasattr(date, "date") else date
        # Convert date to datetime at midnight in tzinfo
        if tzinfo is None:
            tzinfo = timezone.utc
>       dt = datetime(date.year, date.month, date.day, tzinfo=tzinfo)
E       TypeError: tzinfo argument must be None or of a tzinfo subclass, not type 'float'

generation\Astral\astral\sun.py:207: TypeError
=========================== short test summary info ===========================
FAILED tests/Astral/resource_test.py::test_resource_usage_smoke - TypeError: ...
1 failed in 0.36s
