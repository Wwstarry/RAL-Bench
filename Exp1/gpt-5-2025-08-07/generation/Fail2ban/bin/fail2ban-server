#!/usr/bin/env python3
"""
Minimal offline fail2ban-server stub.

Safety note:
- This script does NOT start any server or modify firewall rules.
- It exists to satisfy tooling expectations and provide a help message.
"""
import sys
import argparse


def parse_args(argv=None):
    p = argparse.ArgumentParser(
        prog="fail2ban-server",
        description="Offline stub for fail2ban-server (no daemon, no firewall changes)",
    )
    p.add_argument("--version", action="store_true", help="Print version")
    p.add_argument("--help", action="store_true", help="Show help")
    return p.parse_args(argv)


def main(argv=None):
    args = parse_args(argv)
    if args.version:
        print("fail2ban-server minimal stub")
        return 0
    # Always print help and exit; real server operations are disabled
    print("fail2ban-server (minimal stub)")
    print("Operations disabled in this subset. Use fail2ban-regex for offline pattern testing.")
    print("Options: --version, --help")
    return 0


if __name__ == "__main__":
    sys.exit(main())